attachyaml:
  typespace: TerraformAws
  output:
    aws_vpc_id: String
    aws_subnet_id: String
  activities:
    aws_vpc:
      output: aws_vpc_id
      state:
        cidr_block: 192.168.0.0/16
        instance_tenancy: default
        tags:
          name: lyra-sample-vpc
          created_by: lyra
    aws_subnet:
      output: aws_subnet_id
      state:
        vpc_id: $aws_vpc_id
        cidr_block: 192.168.1.0/24
        tags:
          name: lyra-sample-subnet
          created_by: lyra
    aws_instance:
      state:
        instance_type: 't2.nano'
        ami: 'ami-f90a4880'
        subnet_id: $aws_subnet_id
        tags:
          name: lyra-sample-ec2-instance
          created_by: lyra
